{"ast":null,"code":"var _jsxFileName = \"C:\\\\dnd-campaign-site\\\\DND\\\\src\\\\components\\\\ItemCard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// --- ItemCard.js ---\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst rarityStyles = {\n  Common: 'border border-gray-500 bg-gray-100',\n  Uncommon: 'border border-green-600 bg-green-50',\n  Rare: 'border border-red-600 bg-red-50',\n  'Very Rare': 'border border-purple-600 bg-purple-50',\n  Legendary: 'border border-yellow-600 bg-yellow-50',\n  Artifact: 'border border-blue-800 bg-blue-50',\n  Homebrew: 'border border-lime-700 bg-lime-100'\n};\nconst generateFlavor = item => {\n  if (!(item !== null && item !== void 0 && item.name)) return 'An item of strange and unknown origin.';\n  const base = item.name.toLowerCase();\n  if (base.includes('sword') || base.includes('blade')) {\n    return 'This blade hums with the echo of ancient battles.';\n  }\n  if (base.includes('potion') || item.type === 'Potion') {\n    return 'A vial shimmering like frozen moonlight.';\n  }\n  if (base.includes('ring')) {\n    return 'It tightens as if aware of your thoughts.';\n  }\n  if (base.includes('amulet')) {\n    return 'This amulet pulses in tune with your heartbeat.';\n  }\n  if (item.type === 'Wondrous Item') {\n    return 'An item of peculiar nature and unpredictable effect.';\n  }\n  return 'An item of strange and unknown origin.';\n};\nconst useGeneratedImage = item => {\n  _s();\n  const [url, setUrl] = useState(null);\n  useEffect(() => {\n    if (!item || !item.name) return;\n    const fetchImage = async () => {\n      try {\n        const prompt = `A D&D fantasy item called ${item.name}. ${item.flavor || generateFlavor(item)}`;\n        const res = await fetch('/api/gen-image', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            prompt\n          })\n        });\n        const data = await res.json();\n        if (data !== null && data !== void 0 && data.url) setUrl(data.url);\n      } catch (e) {\n        console.error('Image generation failed', e);\n      }\n    };\n    fetchImage();\n  }, [item]);\n  return url;\n};\n_s(useGeneratedImage, \"2bP48bgC9x4MxGX+fFJYZwu2rfU=\");\nexport default function ItemCard({\n  item\n}) {\n  _s2();\n  if (!item) return null;\n  const colorClass = rarityStyles[item.rarity] || 'border border-gray-400 bg-white';\n  const flavor = item.flavor || generateFlavor(item);\n  const aiImage = useGeneratedImage(item);\n  const image = item.img || aiImage || 'https://via.placeholder.com/64x64.png?text=Item';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `w-full rounded-md shadow-xl overflow-hidden text-black border-4 ${colorClass}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-white text-center text-lg font-extrabold py-2 px-3\",\n      style: {\n        backgroundColor: 'rgba(0,0,0,0.8)'\n      },\n      children: item.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center italic text-sm py-1 text-red-700 font-semibold\",\n      children: item.rarity || 'Unknown Rarity'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex px-3 gap-2 border-y border-dashed border-gray-400 bg-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"italic text-gray-700 text-sm py-2 w-3/4\",\n        children: flavor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/4 flex items-center justify-center p-2\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          alt: item.name || 'Item',\n          className: \"object-contain max-h-16 border border-gray-300 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm px-3 py-2 whitespace-pre-wrap bg-white\",\n      children: item.description || 'No description available.'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between text-xs bg-gray-100 px-3 py-1 border-t border-black font-semibold\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [item.type || 'Item', item.slot ? ` â€” ${item.slot}` : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"italic text-right\",\n        children: item.rarity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s2(ItemCard, \"oc+72UXYPC/3WJedPB7OwgGz550=\", false, function () {\n  return [useGeneratedImage];\n});\n_c = ItemCard;\nvar _c;\n$RefreshReg$(_c, \"ItemCard\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","rarityStyles","Common","Uncommon","Rare","Legendary","Artifact","Homebrew","generateFlavor","item","name","base","toLowerCase","includes","type","useGeneratedImage","_s","url","setUrl","fetchImage","prompt","flavor","res","fetch","method","headers","body","JSON","stringify","data","json","e","console","error","ItemCard","_s2","colorClass","rarity","aiImage","image","img","className","children","style","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","description","slot","_c","$RefreshReg$"],"sources":["C:/dnd-campaign-site/DND/src/components/ItemCard.js"],"sourcesContent":["// --- ItemCard.js ---\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nconst rarityStyles = {\r\n  Common: 'border border-gray-500 bg-gray-100',\r\n  Uncommon: 'border border-green-600 bg-green-50',\r\n  Rare: 'border border-red-600 bg-red-50',\r\n  'Very Rare': 'border border-purple-600 bg-purple-50',\r\n  Legendary: 'border border-yellow-600 bg-yellow-50',\r\n  Artifact: 'border border-blue-800 bg-blue-50',\r\n  Homebrew: 'border border-lime-700 bg-lime-100',\r\n};\r\n\r\nconst generateFlavor = (item) => {\r\n  if (!item?.name) return 'An item of strange and unknown origin.';\r\n  const base = item.name.toLowerCase();\r\n  if (base.includes('sword') || base.includes('blade')) {\r\n    return 'This blade hums with the echo of ancient battles.';\r\n  }\r\n  if (base.includes('potion') || item.type === 'Potion') {\r\n    return 'A vial shimmering like frozen moonlight.';\r\n  }\r\n  if (base.includes('ring')) {\r\n    return 'It tightens as if aware of your thoughts.';\r\n  }\r\n  if (base.includes('amulet')) {\r\n    return 'This amulet pulses in tune with your heartbeat.';\r\n  }\r\n  if (item.type === 'Wondrous Item') {\r\n    return 'An item of peculiar nature and unpredictable effect.';\r\n  }\r\n  return 'An item of strange and unknown origin.';\r\n};\r\n\r\nconst useGeneratedImage = (item) => {\r\n  const [url, setUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!item || !item.name) return;\r\n    const fetchImage = async () => {\r\n      try {\r\n        const prompt = `A D&D fantasy item called ${item.name}. ${item.flavor || generateFlavor(item)}`;\r\n        const res = await fetch('/api/gen-image', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ prompt })\r\n        });\r\n        const data = await res.json();\r\n        if (data?.url) setUrl(data.url);\r\n      } catch (e) {\r\n        console.error('Image generation failed', e);\r\n      }\r\n    };\r\n    fetchImage();\r\n  }, [item]);\r\n\r\n  return url;\r\n};\r\n\r\nexport default function ItemCard({ item }) {\r\n  if (!item) return null;\r\n\r\n  const colorClass = rarityStyles[item.rarity] || 'border border-gray-400 bg-white';\r\n  const flavor = item.flavor || generateFlavor(item);\r\n  const aiImage = useGeneratedImage(item);\r\n  const image = item.img || aiImage || 'https://via.placeholder.com/64x64.png?text=Item';\r\n\r\n  return (\r\n    <div className={`w-full rounded-md shadow-xl overflow-hidden text-black border-4 ${colorClass}`}>\r\n      {/* Header */}\r\n      <div className=\"text-white text-center text-lg font-extrabold py-2 px-3\" style={{ backgroundColor: 'rgba(0,0,0,0.8)' }}>\r\n        {item.name}\r\n      </div>\r\n\r\n      {/* Rarity Bar */}\r\n      <div className=\"text-center italic text-sm py-1 text-red-700 font-semibold\">\r\n        {item.rarity || 'Unknown Rarity'}\r\n      </div>\r\n\r\n      {/* Flavor and Image */}\r\n      <div className=\"flex px-3 gap-2 border-y border-dashed border-gray-400 bg-white\">\r\n        <div className=\"italic text-gray-700 text-sm py-2 w-3/4\">\r\n          {flavor}\r\n        </div>\r\n        <div className=\"w-1/4 flex items-center justify-center p-2\">\r\n          <img\r\n            src={image}\r\n            alt={item.name || 'Item'}\r\n            className=\"object-contain max-h-16 border border-gray-300 rounded\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Description */}\r\n      <div className=\"text-sm px-3 py-2 whitespace-pre-wrap bg-white\">\r\n        {item.description || 'No description available.'}\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"flex justify-between text-xs bg-gray-100 px-3 py-1 border-t border-black font-semibold\">\r\n        <span>{item.type || 'Item'}{item.slot ? ` â€” ${item.slot}` : ''}</span>\r\n        <span className=\"italic text-right\">{item.rarity}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}